(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-742f2d0b"],{"0ccb":function(t,e,a){"use strict";a.r(e);var n=a("f2bf"),r={id:"app"},s={for:"number-of-days"},i=Object(n["e"])("Number of days: "),d={class:"form-group"},o=Object(n["e"])(" Github Repo: "),c=Object(n["f"])("button",{type:"submit"},"Create graph",-1),u={class:"alert alert-info"},h={class:"alert alert-danger"};function l(t,e,a,l,f,p){var b=Object(n["v"])("issue-chart");return Object(n["o"])(),Object(n["d"])("div",r,[Object(n["f"])("div",null,[Object(n["f"])("label",s,[i,Object(n["D"])(Object(n["f"])("input",{name:"number-of-days",id:"number-of-days",type:"number","onUpdate:modelValue":e[1]||(e[1]=function(t){return f.days=t})},null,512),[[n["z"],f.days]])])]),Object(n["f"])("form",{action:"#",onSubmit:e[3]||(e[3]=Object(n["E"])((function(){return p.getIssues&&p.getIssues.apply(p,arguments)}),["prevent"]))},[Object(n["f"])("div",d,[Object(n["f"])("label",null,[o,Object(n["D"])(Object(n["f"])("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=function(t){return f.repository=t})},null,512),[[n["z"],f.repository]])])]),c],32),Object(n["D"])(Object(n["f"])("div",u,"Loading...",512),[[n["A"],f.loading]]),Object(n["D"])(Object(n["f"])("div",h,"An error occured",512),[[n["A"],f.errored]]),Object(n["f"])(b,{issues:f.issues,days:f.days},null,8,["issues","days"])])}a("99af"),a("4de4"),a("4160"),a("d81d"),a("d3b7"),a("ac1f"),a("1276"),a("159b");var f=a("5698"),p=a("bc3a"),b=a.n(p),g=Object(n["f"])("svg",null,null,-1);function m(t,e,a,r,s,i){return Object(n["o"])(),Object(n["d"])("div",null,[g])}a("5319");var y={props:["issues","days"],data:function(){return{chart:null,width:1e3,height:600,margin:60,svg:null}},watch:{issues:function(t){null!=this.chart&&this.chart.remove(),this.renderChart(t)}},computed:{boundedWidth:function(){return this.width-2*this.margin},boundedHeight:function(){return this.height-2*this.margin}},mounted:function(){this.svg=f["f"]("svg").attr("width",this.width).attr("height",this.height)},methods:{renderTitle:function(){var t=this.svg.select(".title");t.empty()&&(t=this.svg.append("text").attr("class","title").attr("x",this.boundedWidth/2+this.margin).attr("y",40).attr("text-anchor","middle")),t.text("Issues in the past "+this.days+" days")},renderChart:function(t){var e=this;this.chart=this.svg.append("g").attr("transform","translate(".concat(this.margin,", ").concat(this.margin,")"));var a=function(t){return t.issues},n=f["e"]().range([this.boundedHeight,0]).domain([0,f["c"](t,a)]);this.chart.append("g").call(f["b"](n).ticks(f["c"](t,a)));var r=f["d"]().range([0,this.boundedWidth]).domain(t.map((function(t){return t.day}))).padding(.2);this.chart.append("g").attr("transform","translate(0, ".concat(this.boundedHeight,")")).call(f["a"](r));var s=this.chart.selectAll("rect").data(t).enter(),i=this.chart;s.append("rect").attr("class","bar").attr("x",(function(t){return r(t.day)})).attr("y",(function(t){return n(t.issues)})).attr("height",(function(t){return e.boundedHeight-n(t.issues)})).attr("width",r.bandwidth()).on("mouseenter",(function(t,e){f["f"](this).attr("opacity",.3),f["f"](this).transition().duration(300).attr("opacity",.6).attr("x",(function(t){return r(t.day)-5})).attr("width",r.bandwidth()+10),i.append("text").attr("class","value").attr("id","v"+e.day.replace(/\./g,"")).attr("x",r(e.day)+r.bandwidth()/2).attr("y",n(e.issues)-10).attr("text-anchor","middle").text("".concat(e.issues," issues"))})).on("mouseleave",(function(t,e){f["g"](".issues").attr("opacity",1),f["f"](this).transition().duration(300).attr("opacity",1).attr("x",(function(t){return r(t.day)})).attr("width",r.bandwidth()),i.select("#v"+e.day.replace(/\./g,"")).remove()})),this.renderTitle(),this.svg.selectAll(".label").empty()&&(this.svg.append("text").attr("class","label").attr("x",-this.boundedHeight/2-this.margin).attr("y",this.margin/2.4).attr("transform","rotate(-90)").attr("text-anchor","middle").text("Issues opened"),this.svg.append("text").attr("class","label").attr("x",this.boundedWidth/2+this.margin).attr("y",this.boundedHeight+1.7*this.margin).attr("text-anchor","middle").text("Days"))}}};y.render=m;var v=y,O={name:"Issues",components:{IssueChart:v},data:function(){return{loading:!1,errored:!1,issues:[],repository:"",now:new Date,days:6}},computed:{dateRange:function(){return f["h"].range(this.startDate,this.now)},startDate:function(){var t=new Date;return t.setDate(this.now.getDate()-this.days),t}},mounted:function(){},methods:{getIssues:function(){var t=this;this.loading=!0,this.errored=!1;var e=this.startDate.toISOString().split("T")[0];b.a.get("https://api.github.com/search/issues?q=repo:".concat(this.repository,"+is:issue+is:open+created:>=").concat(e),{params:{per_page:100}}).then((function(e){var a=t.dateRange.map((function(t){return{day:t.toLocaleDateString(),issues:0}}));e.data.items.forEach((function(t){var e=new Date(t.created_at),n=e.toLocaleDateString(),r=a.filter((function(t){return t.day===n}))[0];r&&(r.issues+=1)})),t.issues=a})).catch((function(e){console.error(e),t.errored=!0})).finally((function(){return t.loading=!1}))}}};a("dae0");O.render=l;e["default"]=O},"2b9a":function(t,e,a){},dae0:function(t,e,a){"use strict";a("2b9a")}}]);
//# sourceMappingURL=chunk-742f2d0b.js.map